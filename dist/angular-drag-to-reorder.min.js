/*
  angular-drag-to-reorder v0.0.2
  http://brandly.github.io/angular-drag-to-reorder/
*/
(function(){angular.module("mb-dragToReorder",[]).directive("dragToReorder",[function(){return{scope:{dragToReorder:"="},link:function(e,r,a){var n,o,t,d,s,i;return o="dragging",r.attr("draggable",!0),r.on("dragstart",function(a){return r.addClass(o),e.$apply(function(){return e.$emit("dragToReorder.dragstart",{item:e.dragToReorder[e.$parent.$index],from:e.$parent.$index})}),a.dataTransfer.setData("text/plain",e.$parent.$index)}),r.on("dragend",function(){return e.$apply(function(){return e.$emit("dragToReorder.dragend")}),r.removeClass(o)}),i="dropping",d="dropping-above",s="dropping-below",n=function(e){var a,n;return e=e||window.event,e.preventDefault(),n=e.pageY,a=this.offsetTop-this.scrollTop+this.clientTop,n<a+this.offsetHeight/2?(r.removeClass(s),r.addClass(d)):(r.removeClass(d),r.addClass(s))},t=function(a){var n,o,l;return a.preventDefault(),n=parseInt(a.dataTransfer.getData("text/plain"),10),l=null,l=r.hasClass(d)?n<e.$parent.$index?e.$parent.$index-1:e.$parent.$index:n<e.$parent.$index?e.$parent.$index:e.$parent.$index+1,o=e.dragToReorder[n],e.dragToReorder.splice(n,1),e.dragToReorder.splice(l,0,o),e.$apply(function(){return e.$emit("dragToReorder.reordered",{item:o,from:n,to:l})}),r.removeClass(i),r.removeClass(d),r.removeClass(s),r.off("drop",t)},r.on("dragenter",function(e){return r.hasClass(o)?void 0:(r.addClass(i),r.on("dragover",n),r.on("drop",t))}),r.on("dragleave",function(e){return r.removeClass(i),r.removeClass(d),r.removeClass(s),r.off("dragover",n),r.off("drop",t)})}}}])}).call(this);