/*
  angular-drag-to-reorder v0.0.2
  http://brandly.github.io/angular-drag-to-reorder/
*/
(function(){angular.module("mb-dragToReorder",[]).directive("dragToReorder",[function(){return{scope:{dragToReorder:"="},link:function(e,r){var a,n,o,t,d,s;return n="dragging",r.attr("draggable",!0),r.on("dragstart",function(a){return r.addClass(n),a.dataTransfer.setData("text/plain",e.$parent.$index)}),r.on("dragend",function(){return r.removeClass(n)}),s="dropping",t="dropping-above",d="dropping-below",a=function(e){var a,n;return e.preventDefault(),n=e.offsetY||e.layerY,a=this.offsetTop-this.scrollTop+this.clientTop,n<a+this.offsetHeight/2?(r.removeClass(d),r.addClass(t)):(r.removeClass(t),r.addClass(d))},o=function(a){var n,i,l;return a.preventDefault(),n=parseInt(a.dataTransfer.getData("text/plain"),10),l=null,l=r.hasClass(t)?n<e.$parent.$index?e.$parent.$index-1:e.$parent.$index:n<e.$parent.$index?e.$parent.$index:e.$parent.$index+1,i=e.dragToReorder[n],e.dragToReorder.splice(n,1),e.dragToReorder.splice(l,0,i),e.$apply(function(){return e.$emit("dragToReorder.reordered",{item:i,from:n,to:l})}),r.removeClass(s),r.removeClass(t),r.removeClass(d),r.off("drop",o)},r.on("dragenter",function(){return r.hasClass(n)?void 0:(r.addClass(s),r.on("dragover",a),r.on("drop",o))}),r.on("dragleave",function(){return r.removeClass(s),r.removeClass(t),r.removeClass(d),r.off("dragover",a),r.off("drop",o)})}}}])}).call(this);