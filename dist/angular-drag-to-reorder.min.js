/*
  angular-drag-to-reorder v0.0.2
  http://brandly.github.io/angular-drag-to-reorder/
*/
(function(){angular.module("mb-dragToReorder",[]).directive("dragToReorder",[function(){return{scope:{dragToReorder:"="},link:function(e,r){var a,o,n,t,d,s;return o="dragging",r.attr("draggable",!0),r.on("dragstart",function(a){return r.addClass(o),a.dataTransfer.setData("text/plain",e.$parent.$index)}),r.on("dragend",function(){return r.removeClass(o)}),s="dropping",t="dropping-above",d="dropping-below",a=function(e){var a,o;return e.preventDefault(),o=e.offsetY||e.layerY,a=this.offsetTop-this.scrollTop+this.clientTop,o<a+this.offsetHeight/2?(r.removeClass(d),r.addClass(t)):(r.removeClass(t),r.addClass(d))},n=function(a){var o,i,l;return a.preventDefault(),o=parseInt(a.dataTransfer.getData("text/plain"),10),l=null,l=r.hasClass(t)?o<e.$parent.$index?e.$parent.$index-1:e.$parent.$index:o<e.$parent.$index?e.$parent.$index:e.$parent.$index+1,i=e.dragToReorder[o],e.dragToReorder.splice(o,1),e.dragToReorder.splice(l,0,i),e.$apply(function(){return e.$emit("dragToReorder.reordered",{array:e.dragToReorder,item:i,from:o,to:l})}),r.removeClass(s),r.removeClass(t),r.removeClass(d),r.off("drop",n)},r.on("dragenter",function(){return r.hasClass(o)?void 0:(r.addClass(s),r.on("dragover",a),r.on("drop",n))}),r.on("dragleave",function(){return r.removeClass(s),r.removeClass(t),r.removeClass(d),r.off("dragover",a),r.off("drop",n)})}}}])}).call(this);